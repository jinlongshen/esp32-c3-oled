BasedOnStyle: LLVM

# --- Basic Layout ---
IndentWidth: 4
TabWidth: 4
UseTab: Never
ColumnLimit: 100

# --- Braces & Blocks ---
BreakBeforeBraces: Allman
InsertBraces: true

AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: false
AllowShortLoopsOnASingleLine: false
AllowShortBlocksOnASingleLine: false

# --- Indentation ---
NamespaceIndentation: None
IndentExternBlock: NoIndent

# --- Whitespace & Lines ---
MaxEmptyLinesToKeep: 1
AlignTrailingComments: true
SpacesBeforeTrailingComments: 1
ReflowComments: false

# --- Constructors ---
BreakConstructorInitializers: BeforeComma
ConstructorInitializerIndentWidth: 0

# --- Function Signatures ---
AlwaysBreakTemplateDeclarations: Yes
AlwaysBreakAfterReturnType: None
AlwaysBreakAfterDefinitionReturnType: None
PenaltyReturnTypeOnItsOwnLine: 1000

BinPackParameters: false
BinPackArguments: false
AllowAllParametersOfDeclarationOnNextLine: false
IndentWrappedFunctionNames: false

# --- Alignment ---
PointerAlignment: Left
ReferenceAlignment: Left

SpaceBeforeParens: ControlStatements
SpacesInParentheses: false
SpacesInSquareBrackets: false

# --- Include Handling ---
SortIncludes: true
IncludeBlocks: Regroup

IncludeCategories:
  # 1. Same-named header (manually placed first in source file)
  - Regex: '^{file_base}\.h$'
    Priority: 1

  # 2. C standard headers: <stdio.h>, <stdint.h>, <stdlib.h>, etc.
  - Regex: '^<([a-z0-9_]+)\.h>$'
    Priority: 2

  # 3. C++ standard headers: <vector>, <string>, <memory>, etc.
  - Regex: '^<[a-zA-Z][a-zA-Z0-9_]*>$'
    Priority: 3

  # 4. Everything else (project headers, third-party headers)
  - Regex: '.*'
    Priority: 4

