BasedOnStyle: LLVM

IndentWidth: 4
TabWidth: 4
UseTab: Never

BreakBeforeBraces: Allman
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: false
AllowShortLoopsOnASingleLine: false

NamespaceIndentation: None
IndentExternBlock: NoIndent

MaxEmptyLinesToKeep: 1

AlignTrailingComments: true
SpacesBeforeTrailingComments: 1
ReflowComments: false

BreakConstructorInitializers: BeforeComma
ConstructorInitializerIndentWidth: 0

AlwaysBreakTemplateDeclarations: No
BinPackParameters: true
BinPackArguments: true
IndentWrappedFunctionNames: false

PointerAlignment: Left
ReferenceAlignment: Left

SpaceBeforeParens: ControlStatements
SpacesInParentheses: false
SpacesInSquareBrackets: false

SortIncludes: true
IncludeBlocks: Regroup

# ---------------------------------------------------------------------------
# Include ordering rules:
#   1. Module header (X.h in X.c or X.cpp)
#   2. Standard C headers (<stdio.h>, <stdint.h>, ...)
#   3. Standard C++ headers (<vector>, <string>, ...)
#   4. Everything else (FreeRTOS, ESP-IDF, project headers)
# ---------------------------------------------------------------------------

IncludeCategories:
  # 1. Module header: "foo.h" when editing foo.c or foo.cpp
  - Regex: '^"{file_base}\\.h"$'
    Priority: 1
    SortPriority: 0

  # 2. Standard C headers: <xxx.h>
  - Regex: '^<[a-z0-9_]+\\.h>$'
    Priority: 2
    SortPriority: 1

  # 3. Standard C++ headers: <vector>, <string>, <map>, <algorithm>, ...
  - Regex: '^<[a-zA-Z][a-zA-Z0-9_]*>$'
    Priority: 3
    SortPriority: 2

  # 4. Everything else (FreeRTOS, ESP-IDF, project headers)
  - Regex: '.*'
    Priority: 4
    SortPriority: 3
